idea_planner_task:
  description: >
    1. Research the topic "{topic}" using available data (e.g., Google search, competitor research, keyword tools).
    2. Compile a list of potential blog post ideas that would bring value to apolline.art’s audience.
    3. Provide a short explanation or rationale (1-2 sentences) for each idea, focusing on why it might be good for SEO and brand goals.
    4. Format the output as a Markdown report titled "Ideas Report."
    5. Ensure it is easy to read and only includes well-articulated ideas (no fluff).

  expected_output: >
    A clear, concise "Ideas Report" in Markdown, featuring multiple relevant blog topic suggestions with brief rationales.

  agent: idea_planner


planner_task:
  description: >
    1. Review the "Ideas Report" and select one "idea" that shows the highest potential for driving traffic and engagement.
    2. Conduct further research on the chosen idea. If needed, refine SEO keywords or supporting subtopics.
    3. Create a detailed content outline, specifying the blog structure (e.g., introduction, body sections, subheadings, conclusion).
    4. List at least 5-10 relevant keywords (including primary and secondary ones).
    5. Provide any additional resources or references that would help the writer (links, quotes, stats).
    6. Format the output as a Markdown report titled "Idea Plan."

  expected_output: >
    A comprehensive "Idea Plan" in Markdown with:
    - Selected topic
    - Keywords
    - Structured outline with potential headings
    - Helpful references/links

  agent: content_planner


write_task:
  description: >
    1. Using the "Idea Plan," write a final blog post of approximately 2,000 words.
    2. Incorporate the keywords naturally, maintaining a factual, positive, and fun tone.
    3. The structure should include:
       - An engaging title
       - A hook/introduction
       - Body sections that align with the outline
       - A summarizing conclusion with a call-to-action (where relevant)
    4. Proofread for grammar, spelling, and clarity. 
    5. Format the final content as a the body well formated in html using the <h2> for the subsections named "Final blog post", ready to be published on apolline.art.

  expected_output: >
    A publication-ready blog post in html, approximately 2,000 words, 
    well-structured, keyword-optimized, and aligned with apolline.art’s brand voice.

  agent: content_writer


publish_task:
  description: >
    Take the "Final blog post" generated by the content writer. The blog post is in html format and may include a top-level heading as the title. 
    1. Extract a suitable title from the first line (e.g., if it starts with "# ", remove "# " and use the remainder as the title). 
      If there is no heading or the extracted title is empty, default the title to "Untitled".
    2. Use the remaining content as the body. If the first line was used as the title, remove it from the body; otherwise use the entire text.
    3. Call the "DrupalPublishTool" with the following arguments (in dictionary form):
       - "title": <the extracted or default title>
       - "body": <the full blog text excluding the extracted title line>
    4. Return the result of this tool call (confirmation message, node ID, etc.).

  expected_output: >
    The result of the "DrupalPublishTool" tool with a confirmation 
    (e.g., "Successfully created new article. Node ID: <some id>") or a descriptive error.
  
  agent: drupal_publisher
